(this["webpackJsonpcdc-admin"]=this["webpackJsonpcdc-admin"]||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),i=a.n(l),s=(a(25),a(2)),o=a(3),c=a(5),u=a(4),m=a(6),p=(a(26),a(27),a(10)),h=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"layout"},r.a.createElement("a",{href:"#menu",id:"menuLink",className:"menu-link"},r.a.createElement("span",null)),r.a.createElement("div",{id:"menu"},r.a.createElement("div",{className:"pure-menu"},r.a.createElement("a",{className:"pure-menu-heading",href:"#"},"Livraria"),r.a.createElement("ul",{className:"pure-menu-list"},r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/",className:"pure-menu-link"},"Home")),r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/autor",className:"pure-menu-link"},"Autor")),r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/livro",className:"pure-menu-link"},"Livros"))))),r.a.createElement("div",{id:"main"},this.props.children,">"))}}]),t}(r.a.Component),d=a(11),b=a.n(d),v=a(7),E=a.n(v),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={msgErro:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",{htmlFor:this.props.id},this.props.label),r.a.createElement("input",this.props),r.a.createElement("span",{className:"error"},this.state.msgErro))}},{key:"componentDidMount",value:function(){var e=this;E.a.subscribe("erro-validacao",(function(t,a){a.field===e.props.name&&e.setState({msgErro:a.defaultMessage})})),E.a.subscribe("limpa",(function(t){e.setState({msgErro:""})}))}}]),t}(r.a.Component),j=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"publicaErro",value:function(e){for(var t=0;t<e.errors.length;t++){var a=e.errors[t];E.a.publish("erro-validacao",a)}}}]),e}(),y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={lista:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.ajax({url:"https://jsonstorage.net/api/items/1895ad31-be47-427e-af0d-17ed2a8ddf9c",dataType:"json",success:function(t){e.setState({lista:t})}}),E.a.subscribe("atualiza-lista-autores",function(e,t){this.setState({lista:t})}.bind(this))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Cadastro de autores")),r.a.createElement("div",{className:"content",id:"content"},r.a.createElement(O,null),r.a.createElement(N,{lista:this.state.lista})))}}]),t}(r.a.Component),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={nome:"",email:"",senha:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"enviaForm",value:function(e){var t=this;e.preventDefault(),b.a.ajax({url:"https://jsonstorage.net/api/items/1895ad31-be47-427e-af0d-17ed2a8ddf9c",contentType:"application/json",dataType:"json",type:"post",data:JSON.stringify({nome:this.state.nome,email:this.state.email,senha:this.state.senha}),success:function(e){E.a.publish("atualiza-lista-autores",e),t.setState({nome:"",email:"",senha:""})},error:function(e){400===e.status&&(new j).publicaErro(e.responseJSON)},beforeSend:function(){E.a.publish("limpa",{})}})}},{key:"salvaAlteracao",value:function(e,t){var a={};a[e]=t.target.value,this.setState(a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"pure-form pure-form-aligned"},r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:this.enviaForm.bind(this),method:"post"},r.a.createElement(f,{id:"nome",type:"text",name:"nome",value:this.state.nome,onChange:this.salvaAlteracao.bind(this,"nome"),label:"Nome"}),r.a.createElement(f,{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.salvaAlteracao.bind(this,"email"),label:"Email"}),r.a.createElement(f,{id:"senha",type:"password",name:"senha",value:this.state.senha,onChange:this.salvaAlteracao.bind(this,"senha"),label:"Senha"}),r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",null),r.a.createElement("button",{type:"submit",className:"pure-button pure-button-primary"},"Gravar"))))}}]),t}(r.a.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"email"))),r.a.createElement("tbody",null,this.props.lista.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.nome),r.a.createElement("td",null,e.email))})))))}}]),t}(r.a.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Bem vindo ao sistema")),r.a.createElement("div",{className:"content",id:"content"}))}}]),t}(r.a.Component),k=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={lista:[],autores:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.ajax({url:"https://jsonstorage.net/api/items/ed903eb2-f745-41e2-9c64-e80d06438b51",dataType:"json",success:function(t){e.setState({lista:t})}}),b.a.ajax({url:"https://jsonstorage.net/api/items/1895ad31-be47-427e-af0d-17ed2a8ddf9c",dataType:"json",success:function(t){e.setState({autores:t})}}),E.a.subscribe("atualiza-lista-livros",function(e,t){this.setState({lista:t})}.bind(this))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Cadastro de Livros")),r.a.createElement("div",{className:"content",id:"content"},r.a.createElement(S,{autores:this.state.autores}),r.a.createElement(C,{lista:this.state.lista})))}}]),t}(r.a.Component),S=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={titulo:"",preco:"",autorID:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"submitLivro",value:function(e){var t=this;e.preventDefault(),b.a.ajax({url:"https://jsonstorage.net/api/items/ed903eb2-f745-41e2-9c64-e80d06438b51",contentType:"application/json",dataType:"json",type:"post",data:JSON.stringify({titulo:this.state.titulo,preco:this.state.preco,autorID:this.state.autorID}),success:function(e){E.a.publish("atualiza-lista-livros",e),t.setState({titulo:"",preco:"",autorID:""})},error:function(e){400===e.status&&(new j).publicaErro(e.responseJSON)},beforeSend:function(){E.a.publish("limpa",{})}})}},{key:"setTitulo",value:function(e){this.setState({titulo:e.target.value})}},{key:"setPreco",value:function(e){this.setState({preco:e.target.value})}},{key:"setAutorID",value:function(e){this.setState({autorID:e.target.value})}},{key:"render",value:function(){var e=this.props.autores.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)}));return r.a.createElement("div",{className:"autorForm"},r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:this.submitLivro.bind(this),method:"post"},r.a.createElement(f,{id:"titulo",name:"titulo",label:"Titulo: ",type:"text",value:this.state.titulo,placeholder:"Titulo do livro",onChange:this.setTitulo.bind(this)}),r.a.createElement(f,{id:"preco",name:"text",label:"Preco: ",type:"decimal",value:this.state.preco,placeholder:"Pre\xe7o do livro",onChange:this.setPreco.bind(this)}),r.a.createElement("div",{className:"pure-controls"},r.a.createElement("label",{htmlFor:"autorID"},"Autor"),r.a.createElement("select",{value:this.state.autorID,name:"autorId",onChange:this.setAutorID.bind(this)},r.a.createElement("option",{value:""},"Selecione"),e)),r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",null),r.a.createElement("button",{type:"submit",className:"pure-button pure-button-primary"},"Gravar"))))}}]),t}(r.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.lista.map((function(e){return r.a.createElement("tr",{key:e.titulo},r.a.createElement("td",null,e.titulo),r.a.createElement("td",null,e.autor.nome),r.a.createElement("td",null,e.preco))}));return r.a.createElement("div",null,r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Titulo"),r.a.createElement("th",null,"Autor"),r.a.createElement("th",null,"Pre\xe7o"))),r.a.createElement("tbody",null,e)))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p.a,null,r.a.createElement(h,null,r.a.createElement(p.d,null,r.a.createElement(p.c,{exact:!0,path:"/",component:g}),r.a.createElement(p.c,{path:"/autor",component:y}),r.a.createElement(p.c,{path:"/livro",component:k})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.22885514.chunk.js.map